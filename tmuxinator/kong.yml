# ~/.tmuxinator/kong.yml

name: kong
root: ~/
pre: cd work/dev_environment/dev && vagrant up && cd ../kwak && vagrant up && cd ~/

windows:
  - kong-rails:
      root: ~/work/kongregate
      layout: 8869,270x73,0,0{80x73,0,0[80x36,0,0,0,80x36,0,37,2],189x73,81,0,1}
      panes:
        - local:
          - #bash
        - vagrant:
          - cd ~/work/dev_environment/dev
          - vagrant ssh
          - cdk
        - vim:
          - nvim

  - kwak-faye:
      root: ~/work/kwak-faye
      layout: 8869,270x73,0,0{80x73,0,0[80x36,0,0,0,80x36,0,37,2],189x73,81,0,1}
      panes:
        - local:
          - #bash
        - vagrant:
          - cd ~/work/dev_environment/kwak
          - vagrant ssh
          - cd /k/kwak-faye
        - vim:
          - nvim

  - kwak-rails:
      root: ~/work/kwak-rails
      layout: 8869,270x73,0,0{80x73,0,0[80x36,0,0,0,80x36,0,37,2],189x73,81,0,1}
      panes:
        - local:
          - #bash
        - vagrant:
          - sleep 1
          - cd ~/work/dev_environment/kwak
          - vagrant ssh
          - cd /k/kwak-rails/current
        - vim:
          - nvim

  - kwak-common:
      root: ~/work/kwak-common
      layout: 8869,270x73,0,0{80x73,0,0[80x36,0,0,0,80x36,0,37,2],189x73,81,0,1}
      panes:
        - local:
          - #bash
        - vagrant:
          - sleep 2
          - cd ~/work/dev_environment/kwak
          - vagrant ssh
          - cd /k/kwak-common
        - vim:
          - nvim

  - big-bug-hunter:
      root: ~/work/big_bug_hunter
      layout: 8869,270x73,0,0{80x73,0,0[80x36,0,0,0,80x36,0,37,2],189x73,81,0,1}
      panes:
        - local:
          - #bash
        - tests:
          - #bash
        - vim:
          - nvim

  - kong-rails-vagrant:
      root: ~/work/dev_environment/dev
      layout: even-horizontal
      panes:
        - unicorn:
          - sleep 1
          - cd ~/work/dev_environment/dev
          - vagrant ssh
          - cdk
          - bundle exec rails s -p 4999
        - dj:
          - sleep 2
          - cd ~/work/dev_environment/dev
          - vagrant ssh
          - cdk
          - bundle exec rake jobs:work

  - kwak-vagrant:
      root: ~/work/dev_environment/kwak
      layout: even-horizontal
      panes:
        - faye:
          - sleep 3
          - cd ~/work/dev_environment/kwak
          - vagrant ssh
          - cd /k/kwak-faye
        - rails:
          - sleep 4
          - cd ~/work/dev_environment/kwak
          - vagrant ssh
          - cd /k/kwak-rails/current
          - ./kwak-rails.sh

  - big-bug-hunter-server:
      root: ~/work/big_bug_hunter
      panes:
        - server:
          - nom
          - bom
          - ./start_server
